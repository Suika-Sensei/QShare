# QShare.js

> ğŸ“± Android application for convenient sharing of social media contacts via QR codes

[![Platform](https://img.shields.io/badge/Platform-Android-green.svg)](https://www.android.com/)
[![Tauri](https://img.shields.io/badge/Tauri-2.0-blue.svg)](https://tauri.app/)
[![React](https://img.shields.io/badge/React-19.1-61dafb.svg)](https://reactjs.org/)
![Status](https://img.shields.io/badge/Status-Early%20Development-yellow.svg)

## ğŸ“– Overview

QShare.js allows users to generate and scan QR codes containing their social network contact information. Share your profiles instantly - no typing required, just scan and connect!

## âœ¨ Key Features

- ğŸ“± **Native Android Application** - Built with Tauri 2 for optimal performance
- ğŸ¨ **Material Design 3 UI** - Modern and familiar Android interface
- ğŸ“· **QR Code Generation & Scanning** - Create and scan profile QR codes
- ğŸ¯ **Multiple Social Networks** - Support for various platforms (Instagram, Twitter, LinkedIn, etc.)
- ğŸŒ“ **Theme Support** - Light and dark modes
- ğŸ’¾ **Local Storage** - Your data stays on your device
- âš¡ **Fast & Lightweight** - Rust backend for superior performance

## ğŸ“¸ Screenshots

| Home Screen | Settings Screen |
|-------------|-----------------|
| ![Home Screen](./assets/Home-QRcode.png) | ![Settings Screen](./assets/Settings.png) |

## ğŸ› ï¸ Tech Stack

| Component | Technology |
|-----------|-----------|
| **Frontend** | React 19.1, Vite 7.0, TailwindCSS 4.1 |
| **UI Framework** | Material Design 3 via `@material-react/web` |
| **Backend** | Rust (Tauri 2) |
| **Platform** | Android (Tauri Mobile) |
| **Communication** | Tauri IPC |

## ğŸš€ Getting Started

### Prerequisites

Before you begin, ensure you have the following installed:

1. **Node.js** (v18 or later) - [Download](https://nodejs.org/)
2. **Rust** - [Install via rustup](https://rustup.rs/)
3. **Android Studio** and **Android SDK**
4. **Rust Android targets**:

   ```bash
   rustup target add aarch64-linux-android armv7-linux-androideabi i686-linux-android x86_64-linux-android
   ```

5. **Android environment variables** - Set `ANDROID_HOME`, `NDK`, etc.

### Installation

```bash
# Clone the repository
git clone <repository-url>
cd QShare.js

# Install dependencies
npm install
```

### âš ï¸ Important: Android Back Button Configuration

This project uses `tauri-plugin-app-events` for proper Android back button handling. After initializing or regenerating Android files, run:

```bash
./scripts/patch-mainactivity.sh
```

**Why is this needed?**

- The `src-tauri/gen/` directory is auto-generated by Tauri
- Custom MainActivity.kt modifications are required for back button support
- The patch script applies necessary changes and creates a backup

**What it does:**

- âœ… Enables Android back button event handling
- âœ… Preserves camera permissions and edge-to-edge display
- âœ… Allows closing modals/sidebars without exiting the app

### Development

Run the app in development mode with hot reload:

```bash
npm run tauri android dev
```

**Tip:** If MainActivity.kt is regenerated and back button stops working:

```bash
./scripts/patch-mainactivity.sh
npm run tauri android dev
```

### Building

#### Release APK

```bash
npm run tauri android build
```

Output: `src-tauri/gen/android/app/build/outputs/apk/release/`

#### Debug APK

```bash
npm run tauri android build -- --debug
```

Output: `src-tauri/gen/android/app/build/outputs/apk/debug/`

## ğŸ“ Project Structure

```text
QShare.js/
â”œâ”€â”€ src/                              # Frontend (React)
â”‚   â”œâ”€â”€ components/                   # Reusable UI Components
â”‚   â”‚   â”œâ”€â”€ AddNetworkFAB/           # Floating Action Button for adding networks
â”‚   â”‚   â”œâ”€â”€ Navigation/              # Navigation system (Bottom bar, controller, items)
â”‚   â”‚   â”œâ”€â”€ QRCode/                  # QR code generator component
â”‚   â”‚   â”œâ”€â”€ SegmentedButton/         # Material Design segmented button
â”‚   â”‚   â”œâ”€â”€ SocialNetworkCard/       # Display card for social network profiles
â”‚   â”‚   â”œâ”€â”€ SocialNetworkEditor/     # Modal editor for profile data
â”‚   â”‚   â”œâ”€â”€ SocialNetworkIcon/       # Social network icon renderer
â”‚   â”‚   â”œâ”€â”€ SocialNetworkPicker/     # Network selection dialog
â”‚   â”‚   â””â”€â”€ ThemeSelector/           # Theme switcher component
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                       # Application Pages
â”‚   â”‚   â”œâ”€â”€ Home/                    # Home page with QR and Scan screens
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx             # Main home page layout
â”‚   â”‚   â”‚   â”œâ”€â”€ QRcodeScreen.tsx     # QR code generation screen
â”‚   â”‚   â”‚   â””â”€â”€ ScanScreen.tsx       # QR code scanner screen
â”‚   â”‚   â””â”€â”€ Settings/                # Settings page
â”‚   â”‚       â””â”€â”€ Settings.tsx         # App settings & network management
â”‚   â”‚
â”‚   â”œâ”€â”€ context/                     # React Context Providers
â”‚   â”‚   â””â”€â”€ SocialNetworksContext.tsx # Global state for social networks
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                        # Static Data & Configuration
â”‚   â”‚   â””â”€â”€ socialNetworks.json      # Social network definitions & metadata
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                       # Custom React Hooks
â”‚   â”‚   â””â”€â”€ useCSSVariable.ts        # Hook for accessing CSS variables
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/                      # Global Styles & Themes
â”‚   â”‚   â”œâ”€â”€ index.js                 # Main stylesheet entry
â”‚   â”‚   â”œâ”€â”€ layout.css               # Layout styles
â”‚   â”‚   â”œâ”€â”€ light.css / dark.css     # Theme stylesheets
â”‚   â”‚   â””â”€â”€ *.css                    # Theme variants (high contrast, medium contrast)
â”‚   â”‚
â”‚   â”œâ”€â”€ theme/                       # Theme Configuration
â”‚   â”‚   â””â”€â”€ colors.ts                # Material Design 3 color utilities
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/                      # Static Assets
â”‚   â”‚   â””â”€â”€ icons/                   # Custom SVG icons
â”‚   â”‚
â”‚   â”œâ”€â”€ App.jsx                      # Root application component
â”‚   â””â”€â”€ main.jsx                     # React application entry point
â”‚
â”œâ”€â”€ src-tauri/                       # Backend (Rust + Tauri)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ lib.rs                   # Main Tauri logic & IPC commands
â”‚   â”‚   â””â”€â”€ main.rs                  # Application entry point
â”‚   â”‚
â”‚   â”œâ”€â”€ gen/                         # âš ï¸ Auto-generated (DO NOT EDIT)
â”‚   â”‚   â””â”€â”€ android/                 # Android project files
â”‚   â”‚       â””â”€â”€ app/src/main/java/   # MainActivity.kt (needs patch)
â”‚   â”‚
â”‚   â”œâ”€â”€ icons/                       # App icons (multiple resolutions)
â”‚   â”œâ”€â”€ capabilities/                # Tauri permission definitions
â”‚   â”‚   â””â”€â”€ default.json             # Default permissions
â”‚   â”œâ”€â”€ Cargo.toml                   # Rust dependencies
â”‚   â””â”€â”€ tauri.conf.json              # Tauri app configuration
â”‚
â”œâ”€â”€ material-react/                  # Custom Material Design 3 Library
â”‚   â”œâ”€â”€ components/                  # React wrappers for MD3 components
â”‚   â”‚   â”œâ”€â”€ Button.tsx               # Button components (Filled, Outlined, etc.)
â”‚   â”‚   â”œâ”€â”€ TextField.tsx            # Text input components
â”‚   â”‚   â”œâ”€â”€ Dialog.tsx               # Modal dialogs
â”‚   â”‚   â”œâ”€â”€ BottomSheet.tsx          # Bottom sheet component
â”‚   â”‚   â”œâ”€â”€ Navigation.tsx           # Navigation components
â”‚   â”‚   â””â”€â”€ ...                      # Other MD3 components
â”‚   â”œâ”€â”€ utils/                       # Utility functions
â”‚   â”‚   â””â”€â”€ createComponent.tsx      # Component factory helper
â”‚   â”œâ”€â”€ styles/                      # Library styles
â”‚   â”œâ”€â”€ index.ts                     # Library public API
â”‚   â””â”€â”€ package.json                 # Library dependencies
â”‚
â”œâ”€â”€ scripts/                         # Build & Automation Scripts
â”‚   â””â”€â”€ patch-mainactivity.sh        # Android back button patch script
â”‚
â”œâ”€â”€ assets/                          # Documentation & Media
â”‚   â”œâ”€â”€ Home-QRcode.png             # Screenshot: Home screen
â”‚   â”œâ”€â”€ Settings.png                # Screenshot: Settings screen
â”‚   â””â”€â”€ icon.png                    # App icon
â”‚
â”œâ”€â”€ package.json                     # Node.js project configuration
â”œâ”€â”€ vite.config.js                   # Vite bundler configuration
â”œâ”€â”€ tsconfig.json                    # TypeScript configuration
â”œâ”€â”€ tailwind.config.js               # TailwindCSS configuration
â”œâ”€â”€ postcss.config.js                # PostCSS configuration
â””â”€â”€ CLAUDE.md                        # AI assistant development guide
```

## ğŸ”Œ Tauri Plugins

| Plugin | Purpose |
|--------|---------|
| `tauri-plugin-store` | Persistent local data storage |
| `tauri-plugin-opener` | Open URLs in default browser |
| `tauri-plugin-barcode-scanner` | QR code scanning functionality |
| `tauri-plugin-app-events` | Android system events & back button |

## ğŸ§ª Development Tips

### Type Checking

```bash
npx tsc --noEmit
```

### Material React Library

- Local package providing React wrappers for Material Web Components
- Located in `/material-react` directory
- After modifying, reinstall with `npm install`

### Android Back Button

- Requires MainActivity.kt patch (see [Android Back Button Configuration](#ï¸-important-android-back-button-configuration))
- Must be reapplied if `src-tauri/gen/` is regenerated

### Architecture

- Tauri 2 provides native WebView container
- Rust backend communicates with React via IPC
- Designed for optimal performance and small bundle size

## ğŸ¤ Contributing

This project is in active development. Contributions, bug reports, and feature requests are welcome!

## ğŸ“„ License

[Add license information]

## ğŸ‘ Acknowledgments

- Built with [Tauri](https://tauri.app/)
- UI components from [Material Web](https://github.com/material-components/material-web)
- Icons from [Material Symbols](https://fonts.google.com/icons)
